/*
** Xin YUAN, 2019, BSD (2)
*/

////////////////////////////////////////////////////////////////////////////////

#include "precomp.h"

#include "../WmarkParser.h"

#include "../base/WmarkDef.h"

////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
namespace CSL {
////////////////////////////////////////////////////////////////////////////////

// BerrTailAction

RdParserAction WmarkParserHelper::get_BerrTailAction(RdParserActionMetaData* pData)
{
	return [pData](const std::string& strToken, std::vector<std::string>& vecError)->bool
			{
				//up
				assert( pData->posParent.uAddress != 0 );
				RdMetaAstNodeInfo info;
				pData->spMeta->GetAstNodeInfo(pData->posParent, info);
				pData->posCurrent = pData->posParent;
				pData->posParent = info.posParent;
				return true;
			};
}

////////////////////////////////////////////////////////////////////////////////
}
////////////////////////////////////////////////////////////////////////////////
